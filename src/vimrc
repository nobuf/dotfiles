" https://github.com/square/maximum-awesome
"
set shell=/bin/bash
set nocompatible
filetype off                   " required!

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

" let Vundle manage Vundle
" required! 
Plugin 'gmarik/Vundle.vim'
"Plugin 'paulyg/Vim-PHP-Stuff'
"Plugin 'tobiassvn/vim-gemfile'
Plugin 'kchmck/vim-coffee-script'
"Plugin 'beyondwords/vim-twig'
Plugin 'ton/vim-bufsurf'
Plugin 'altercation/vim-colors-solarized'
Plugin 'hail2u/vim-css3-syntax'
" Plugin 'cakebaker/scss-syntax.vim'
Plugin 'tpope/vim-rails'
Plugin 'tpope/vim-surround'
Plugin 'tpope/vim-markdown'
Plugin 'PProvost/vim-markdown-jekyll'
Plugin 'kien/ctrlp.vim'
Plugin 'MarcWeber/vim-addon-mw-utils'
Plugin 'tomtom/tlib_vim'
"Plugin "garbas/vim-snipmate"
"Plugin "honza/vim-snippets"
"Plugin 'Lokaltog/vim-easymotion'
"Plugin 'scrooloose/syntastic'
" Plugin 'mileszs/ack.vim'
Plugin 'rking/ag.vim'
"Plugin 'scrooloose/nerdcommenter'
Plugin 'tpope/vim-commentary'
"Plugin 'bronson/vim-runtest'
"Plugin 'duskhacker/sweet-rspec-vim'
"Plugin 'thoughtbot/vim-rspec'
Plugin 'skwp/vim-rspec'
Plugin 'tpope/vim-endwise'
Plugin 'slim-template/vim-slim'
Plugin 'vim-ruby/vim-ruby'
Plugin 'tpope/vim-fugitive'
Plugin 'spf13/vim-autoclose'
Plugin 'scrooloose/nerdtree'
Plugin 'pangloss/vim-javascript'
Plugin 'nathanaelkane/vim-indent-guides'
Plugin 'tpope/vim-repeat'
Plugin 'mustache/vim-mustache-handlebars'
" Plugin 'bling/vim-airline'

call vundle#end()
filetype plugin indent on


set wildignore=log/**,node_modules/**,target/**,tmp/**,*.rbc
set autoread
set enc=utf-8
set fenc=utf-8
set iminsert=0 imsearch=0
set showcmd
set incsearch
"set nocompatible
set hlsearch
set hidden
set expandtab
set ts=2 sw=2 sts=2
set fo+=r
set shortmess+=I
set cindent
set ignorecase
set smartcase
set backspace=2
set wrapscan
set showmatch
set wildmenu
set formatoptions+=mM
set number
set ruler
set nolist
set wrap
set laststatus=2
set cmdheight=1
set title
set shortmess+=I
set nobackup
set dir=~/.vim/swap/
set vb t_vb=
set clipboard=unnamed
set synmaxcol=150
syn on

let mapleader = ','

nnoremap <C-h> :BufSurfBack<CR>
nnoremap <C-l> :BufSurfForward<CR>
" nnoremap <C-g> :Ack 
" nnoremap <C-b> :RunSpec<cr>

nmap ; :
"nnoremap : ;
noremap ;; ;

"imap jj <ESC>
imap <C-d> <DEL>
imap <C-e> <END>
imap <C-a> <HOME>
imap <C-k> <ESC><RIGHT>C

"imap ,/ </<C-X><C-O><ESC>F<i
"inoremap \[ [
"inoremap \{ {
"inoremap \( (
"inoremap \" "
"inoremap \' '
"inoremap [ []<LEFT>
"inoremap { {}<LEFT><CR><ESC>O
"inoremap ( ()<LEFT>
"inoremap " ""<LEFT>
"inoremap ' ''<LEFT>

"let g:syntastic_ruby_exec = '/Users/nobu/.rvm/rubies/ruby-1.9.3-p448/bin/ruby'

augroup reload_vimrc " {
    autocmd!
    autocmd BufWritePost $MYVIMRC source $MYVIMRC
augroup END " }

" autocmd BufReadPost,FileReadPost,BufNewFile * call system("tmux rename-window " . expand("%:t"))
"autocmd BufNewFile,BufRead ~/work/qdopp/* set tabstop=4 shiftwidth=4
" let g:ackprg = 'ag --nogroup --nocolor --column'

nmap <leader>a :Ag<space>
nmap <leader>b :CtrlPBuffer<CR>
nmap <leader>d :NERDTreeToggle<CR>
nmap <leader>f :NERDTreeFind<CR>
nmap <leader>t :CtrlP<CR>
nmap <leader>T :CtrlPClearCache<CR>:CtrlP<CR>
nmap <leader>c :ccl<CR>
nmap <leader>p :set paste<CR>
nmap <leader>P :set nopaste<CR>
" nmap <leader>h :BufSurfBack<CR>
" nmap <leader>l :BufSurfForward<CR>
nmap <leader><space> :noh<CR>


if executable('ag')
  " Use Ag over Grep
  set grepprg=ag\ --nogroup\ --nocolor

  " Use ag in CtrlP for listing files. Lightning fast and respects .gitignore
  let g:ctrlp_user_command = 'ag %s -l --nocolor -g ""'
endif

hi IndentGuidesOdd  ctermbg=gray
hi IndentGuidesEven ctermbg=none

" let g:airline#extensions#tabline#enabled = 1
